{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","Searchbar","state","query","handleInputChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","className","s","SearchForm","this","type","SearchForm_button","SearchForm_input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","ImageGalleryItem_image","src","alt","modalRoot","document","querySelector","Modal","handlekeyDown","code","onClose","handleBackDropClick","target","window","addEventListener","removeEventListener","imageModal","createPortal","overlay","modal","ImageGallery","showModal","toggleModal","handleClick","dataset","source","images","map","id","App","page","hits","handleSearchbarSubmit","prevProps","prevState","fetch","then","response","ok","json","catch","transition","Slide","ReactDOM","render","StrictMode","getElementById"],"mappings":"6IACAA,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,kBAAoB,qCAAqC,wBAA0B,2CAA2C,iBAAmB,sC,iBCAvPD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,uBAAyB,mD,gBCAzGD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,gBCA3DD,EAAOC,QAAU,CAAC,aAAe,qC,qMCIZC,E,4MACjBC,MAAO,CACLC,MAAO,I,EAGTC,kBAAoB,SAAAC,GAClB,EAAKC,SAAS,CAAEH,MAAOE,EAAME,cAAcC,MAAMC,iB,EAGnDC,aAAe,SAAAL,GACbA,EAAMM,iBAEyB,KAA5B,EAAKT,MAAMC,MAAMS,QAYpB,EAAKC,MAAMC,SAAS,EAAKZ,MAAMC,OAC/B,EAAKG,SAAS,CAAEH,MAAO,MAZrBY,IAAMC,MAAM,8KAAkC,CAC9CC,SAAU,WACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,K,4CAQd,WACE,OACE,wBAAQC,UAAWC,IAAEzB,UAArB,SACE,uBAAMwB,UAAWC,IAAEC,WAAYb,SAAUc,KAAKlB,aAA9C,UACE,wBAAQmB,KAAK,SAASJ,UAAWC,IAAEI,oBAGnC,uBACEL,UAAWC,IAAEK,iBACbF,KAAK,OACLG,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZ1B,MAAOoB,KAAK1B,MAAMC,MAClBgC,SAAUP,KAAKxB,6B,GA1CUgC,a,yBCHxB,SAASC,EAAT,GAA0E,IAA9CC,EAA6C,EAA7CA,aAAcC,EAA+B,EAA/BA,cAAeC,EAAgB,EAAhBA,KAAMC,EAAU,EAAVA,QAC1E,OACI,oBAAIhB,UAAWC,IAAEW,iBAAjB,SACF,qBACEZ,UAAWC,IAAEgB,uBACbC,IAAKL,EACLM,IAAKJ,EACL,cAAaD,EACbE,QAASA,M,sCCNXI,EAAYC,SAASC,cAAc,eAEpBC,E,4MASfC,cAAgB,SAAA5C,GACK,WAAfA,EAAM6C,MACR,EAAKrC,MAAMsC,W,EAIfC,oBAAsB,SAAA/C,GAChBA,EAAME,gBAAkBF,EAAMgD,QAChC,EAAKxC,MAAMsC,W,uDAhBjB,WACIG,OAAOC,iBAAiB,UAAW3B,KAAKqB,iB,kCAG1C,WACEK,OAAOE,oBAAoB,UAAW5B,KAAKqB,iB,oBAe/C,WACI,IAAOQ,EAAc7B,KAAKf,MAAnB4C,WACP,OAAOC,uBACH,qBAAKjC,UAAWC,IAAEiC,QAASlB,QAASb,KAAKwB,oBAAzC,SACI,qBAAK3B,UAAWC,IAAEkC,MAAlB,SACC,qBAAKjB,IAAKc,EAAYb,IAAI,SAGjCC,O,GA7ByBT,aCDdyB,E,4MACjB3D,MAAQ,CACJ4D,WAAW,EACXL,WAAY,I,EAGlBM,YAAc,WACZ,EAAKzD,UAAS,kBAAkB,CAC9BwD,WADY,EAAEA,e,EAKlBE,YAAc,SAAA3D,GACV,EAAKC,SAAS,CAACmD,WAAYpD,EAAMgD,OAAOY,QAAQC,SAChD,EAAKH,e,4CAGP,WAAU,IAAD,OACII,EAAYvC,KAAKf,MAAjBsD,OACT,EAAkCvC,KAAK1B,MAA/B4D,EAAR,EAAQA,UAAWL,EAAnB,EAAmBA,WAEnB,OACA,qCACI,oBAAIhC,UAAWC,IAAEmC,aAAjB,SACCM,EAAOC,KAAI,YAAgD,IAA7CC,EAA4C,EAA5CA,GAAI/B,EAAwC,EAAxCA,aAAcC,EAA0B,EAA1BA,cAAeC,EAAW,EAAXA,KAC5C,OACA,cAACH,EAAD,CAECC,aAAcA,EACdC,cAAeA,EACfC,KAAMA,EACNC,QAAS,EAAKuB,aAJTK,QASTP,GAAa,cAAC,EAAD,CAAOL,WAAYA,EAAYN,QAASvB,KAAKmC,qB,GApC7B3B,aCIrBkC,E,4MACnBpE,MAAO,CACLC,MAAO,GACPoE,KAAM,EAENC,KAAM,I,EAGRC,sBAAwB,SAAAtE,GACtB,EAAKG,SAAS,CAAEH,W,wDAMlB,SAAmBuE,EAAWC,GAAY,IAAD,OACvC,GAAIA,EAAUxE,QAAUyB,KAAK1B,MAAMC,MAAO,CAIxC,OAAOyE,MAAM,GAAD,OAHK,+EAGL,cAAkBhD,KAAK1B,MAAMC,MAA7B,iBAA2CyB,KAAK1B,MAAMqE,KAAtD,gBAFI,uCAGfM,MAAM,SAAAC,GACL,GAAIA,EAASC,GACX,OAAOD,EAASE,UAGnBH,MAAK,SAAAL,GAAI,OAAI,EAAKlE,SAAL,eAAmBkE,OAChCS,OAAM,SAAAjE,GAAK,OAAI,EAAKV,SAAS,CAAEU,gB,oBAKpC,WAEE,OACE,sBAAKS,UAAU,MAAf,UACC,cAAC,EAAD,CAAWX,SAAUc,KAAK6C,wBAC1B,cAAC,IAAD,CAAgBxD,SAAS,YACxBC,UAAW,IACXgE,WAAYC,MAEZ,cAAC,EAAD,CAAchB,OAAQvC,KAAK1B,MAAMsE,c,GAzCRpC,aCHjCgD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFxC,SAASyC,eAAe,W","file":"static/js/main.35268c91.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2FpDx\",\"SearchForm\":\"Searchbar_SearchForm__1O91N\",\"SearchForm_button\":\"Searchbar_SearchForm_button__v4oDy\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1KbwB\",\"SearchForm_input\":\"Searchbar_SearchForm_input__28T7z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2E3Fw\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2kjNM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__OydgA\",\"modal\":\"Modal_modal__2n9nc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3ixqg\"};","import { Component } from \"react\"\r\nimport { toast } from \"react-toastify\";\r\nimport s from './Searchbar.module.css'\r\nimport '../icons/search_black_24dp.svg'\r\n\r\nexport default class Searchbar extends Component {\r\n    state ={\r\n      query: '',\r\n    };\r\n\r\n    handleInputChange = event => {\r\n      this.setState({ query: event.currentTarget.value.toLowerCase() });\r\n    };\r\n\r\n    handleSubmit = event => {\r\n      event.preventDefault();\r\n\r\n      if(this.state.query.trim() === '') {\r\n        toast.error('Нельзя отправлять пустой запрос',{\r\n        position: \"top-left\",\r\n        autoClose: 2000,\r\n        hideProgressBar: true,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,});\r\n        return;\r\n      }\r\n\r\n      this.props.onSubmit(this.state.query);\r\n      this.setState({ query: '' });\r\n    };\r\n    \r\n    render () {\r\n      return (\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={s.SearchForm_button}>\r\n              {/* <span className={s.button_label}>Search</span> */}\r\n            </button>\r\n            <input\r\n              className={s.SearchForm_input}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              value={this.state.query}\r\n              onChange={this.handleInputChange}\r\n            />\r\n          </form>\r\n        </header>\r\n      )\r\n    };\r\n};","import s from './ImageGalleryItem.module.css'\r\n\r\nexport default function ImageGalleryItem({ webformatURL, largeImageURL, tags, onClick}) {\r\n    return (\r\n        <li className={s.ImageGalleryItem}>\r\n      <img\r\n        className={s.ImageGalleryItem_image}\r\n        src={webformatURL}\r\n        alt={tags}\r\n        data-source={largeImageURL}\r\n        onClick={onClick}\r\n      />\r\n    </li>\r\n    )\r\n}","import s from './Modal.module.css'\r\nimport { createPortal } from 'react-dom'\r\nimport { Component } from 'react'\r\n\r\nconst modalRoot = document.querySelector('#modal-root')\r\n\r\nexport default class Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handlekeyDown);\r\n      }\r\n    \r\n      componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handlekeyDown);\r\n      }\r\n    \r\n      handlekeyDown = event => {\r\n        if (event.code === 'Escape') {\r\n          this.props.onClose();\r\n        }\r\n      };\r\n    \r\n      handleBackDropClick = event => {\r\n        if (event.currentTarget === event.target) {\r\n          this.props.onClose();\r\n        }\r\n      };\r\n\r\n    render(){\r\n        const {imageModal} = this.props\r\n        return createPortal(\r\n            <div className={s.overlay} onClick={this.handleBackDropClick}>\r\n                <div className={s.modal}>\r\n                 <img src={imageModal} alt=\"\" />\r\n                </div>\r\n            </div>\r\n        , modalRoot)\r\n    }\r\n   \r\n}","import { Component } from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport s from './ImageGallery.module.css'\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nexport default class ImageGallery extends Component {\r\n    state = {\r\n        showModal: false,\r\n        imageModal: '',\r\n    };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({showModal}) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  handleClick = event => {\r\n      this.setState({imageModal: event.target.dataset.source});\r\n      this.toggleModal();\r\n  }\r\n\r\n    render() {\r\n        const  { images }  = this.props\r\n        const { showModal, imageModal } = this.state;\r\n        // console.log(images)\r\n        return (\r\n        <>\r\n            <ul className={s.ImageGallery}>\r\n            {images.map(({ id, webformatURL, largeImageURL, tags }) => {\r\n                return (\r\n                <ImageGalleryItem\r\n                 key={id}\r\n                 webformatURL={webformatURL}\r\n                 largeImageURL={largeImageURL}\r\n                 tags={tags}\r\n                 onClick={this.handleClick}\r\n                  />\r\n                )\r\n            })}\r\n            </ul>\r\n            {showModal && <Modal imageModal={imageModal} onClose={this.toggleModal}/>}\r\n        </>\r\n        )\r\n    }\r\n};","// import logo from './logo.svg';\nimport './styles.css';\nimport Searchbar from './components/Searchbar';\nimport { Component } from 'react';\nimport { ToastContainer, Slide } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ImageGallery from './components/ImageGallery';\n// import Modal from './components/Modal/Modal';\n\nexport default class App extends Component {\n  state ={\n    query: '',\n    page: 1,\n    // images: [],\n    hits: [],\n  }\n\n  handleSearchbarSubmit = query => {\n    this.setState({ query });\n\n    // this.setState( ({images}) => {\n    //   return {images: [...images, ...this.state.hits],}});\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      const BASE_URL = 'https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12'\n      const API_KEY = '23976074-1864ef446645d9fee251ba638'\n\n      return fetch(`${BASE_URL}&q=${this.state.query}&page=${this.state.page}&key=${API_KEY}`)\n      .then( response => {\n        if (response.ok) {\n          return response.json();\n        }\n      })\n      .then(hits => this.setState({ ...hits }))\n      .catch(error => this.setState({ error }))\n    }\n  }\n\n\n  render() {\n    \n    return (\n      <div className=\"App\">\n       <Searchbar onSubmit={this.handleSearchbarSubmit}/>\n       <ToastContainer position=\"top-right\"\n        autoClose={2000}\n        transition={Slide}\n        />\n        <ImageGallery images={this.state.hits} />\n        \n        \n\n      </div>\n    );\n  }\n  \n}\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}